<div *ngIf="error$ | async as error" style="color: #ff0000">
  {{error}}
</div>

<div class="row vh-100" style="padding-top: 30px; padding-bottom: 20px" *ngIf="chatClient">
  <div class="col-4">
    <div class="card h-100">
      <div class="card-header">
          <label>Currently online: {{clients.length}}</label>
        </div>
        <div class="card-body">
          <div *ngIf="clients$ | async as clients">
            <ul>
              <li *ngFor="let client of clients">
                {{client.nickName}}
              </li>
            </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="col-8">
    <div class="card h-100">
    <div class="card-header">
      <h3>Hello {{chatClient.nickName}}!</h3>
    </div>
    <div class="card-body">
      <ul>
        <section *ngFor="let message of messages">
          <h4 id="user">{{message.chatClient.nickName}}:</h4>
          <h4 id="msg">{{message.message}}</h4>
          <h6 id="timeStamp">({{message.timestamp | date:'mediumTime'}})</h6>
        </section>
      </ul>
    </div>
    <div class="card-footer">
      <form class="form-inline">
        <div class="input-group flex-fill">
          <input type="text" class="form-control" [formControl]="messageFC" placeholder="Write message here...">
          <button type="button" (click)="sendMessage()" class="btn btn-primary">Send Message</button>
        </div>
      </form>
      <div style="height: 10px">
          <span
            *ngIf="clientsTyping.length > 0"
            style="color: burlywood">
        <span *ngFor="let client of clientsTyping; let i = index">
          {{client.nickName}}
          <span *ngIf="clientsTyping.length - 1 > i">, </span>
        </span>
            is typing...
          </span>
        </div>
      </div>
    </div>
  </div>
</div>



<div class="row justify-content-center align-items-center vh-100" *ngIf="!chatClient">
  <div class="card">
    <div class="card-body">
      <h1>{{title}}</h1>
      <form>
        <div class="form-group">
          <label for="nickNameFC">Enter Nickname:</label>
          <input type="text" [formControl]="nickNameFC" id="nickNameFC">
        </div>
        <div class="row justify-content-end">
          <button type="button" (click)="sendName()" class="btn btn-success">Submit</button>
        </div>
        </form>
    </div>
  </div>
</div>








